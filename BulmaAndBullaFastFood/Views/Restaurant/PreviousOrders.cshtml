@model IEnumerable<BulmaAndBullaFastFood.Models.OrderHistory>

@{
    ViewBag.Title = "Order History";
}

<h3>@ViewBag.Title</h3>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.list_of_items)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.total_price) ($)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.purchase_date)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.name)
        </td>
        <td>
            @{
                string itemsList = item.list_of_items;
                string[] values = itemsList.Split(',');
                for (int i = 0; i < values.Length; i++)
                {
                    values[i] = values[i].Trim();
                }
            }
            @foreach(var listItem in values)
            {
                @Html.Raw(listItem)
                <br/>
            }
            
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.total_price)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.purchase_date)
        </td>
    </tr>
}

</table>
